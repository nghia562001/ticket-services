<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="event_report_template_badge_card" inherit_id="event.event_report_template_badge_card">
        <!-- Ghi đè nội dung -->
        <xpath expr="//div[@class='o_event_badge_ticket_wrapper']" position="replace">
            <style>
                * {
                    margin: 0;
                    padding: 0;
                    box-sizing: border-box;
                }
                .invoice {
                    width: 2.52in; /* Giới hạn chiều rộng của hóa đơn là 2.52in */
                    margin: 1px;
                    padding: 8px;
                    border: 1px dashed #ccc; /* Đường viền bao quanh hóa đơn */

                    font-family: Calibri, sans-serif;
                    color: #000; /* Màu chữ toàn bộ */
                }
                .header_section {
                    text-align: center;
                    margin-bottom: 10px; /* Giữ margin-bottom là 10px */
                    <!-- padding-bottom: 10px; -->
                    border-bottom: 1px dashed #000; /* Đường viền dưới header */
                }
                .header_section h1 {
                    font-size: 16px;
                    <!-- margin-bottom: 5px; -->
                    color: #000; /* Đảm bảo chữ màu đen */
                }
                .header_section p {
                    font-size: 10px;
                    color: #000; /* Đảm bảo chữ màu đen */
                }
                .details_section {
                    margin-bottom: 10px; /* Giữ margin-bottom là 10px */
                    padding: 0 0 8px;
                    border-bottom: 1px dashed #000; /* Thêm viền dưới cho details_section */
                }
                .details_section p {
                    font-size: 12px; /* Thay đổi cỡ chữ thành 12px */
                    margin: 5px 0;
                    color: #000; /* Đảm bảo chữ màu đen */
                }
                .details_section .label {
                    font-weight: bold;
                    color: #000; /* Đảm bảo label có màu đen */
                }
                .sales_info_section {
                    margin-bottom: 10px; /* Đảm bảo margin-bottom là 10px */
                    padding: 0 0 8px;
                    border-bottom: 1px dashed #000; /* Thêm viền dưới cho sales_info_section */
                }
                .sales_info_section p {
                    font-size: 12px; /* Thay đổi cỡ chữ thành 12px */
                    margin: 5px 0;
                    color: #000; /* Đảm bảo chữ màu đen */
                }
                .sales_info_section .label {
                    font-weight: bold;
                    color: #000; /* Đảm bảo label có màu đen */
                }
                .qr_code_section {
                    <!-- padding: 0 0 8px; -->
                    text-align: center;
                    border-bottom: 1px dashed #000;    
                }
                .qr_code_section p {
                    font-size: 12px;
                    <!-- margin-bottom: 10px; -->
                    color: #000; /* Đảm bảo chữ màu đen */
                }
                .qr_code_section img {
                    margin-bottom: 10px;
                    max-width: 40%;
                    height: auto;
                }
                .footer_section {
                    text-align: center;
                    margin-top: 10px;
                    padding-top: 10px;
                    <!-- border-top: 1px dashed #000; -->
                }
                .footer_section p {
                    font-size: 10px; /* Thay đổi cỡ chữ thành 10px cho footer */
                    color: #000; /* Đảm bảo chữ màu đen */
                }
            </style>

            <div class="invoice">
                <div class="header_section">
                    <h1>Hóa Đơn Vé Xe Khách</h1>
                    <p>Công ty Vận Tải ABC</p>
                </div>

                <div class="details_section">
                    <p><span class="label">Mã vé:</span> VX123456</p>
                    <p><span class="label">Họ và tên:</span> Nguyễn Văn A</p>
                    <p><span class="label">Số điện thoại:</span> 0123 456 789</p>
                    <p><span class="label">Tuyến đường:</span> Hà Nội - Hồ Chí Minh</p>
                    <p><span class="label">Ngày khởi hành:</span> 20/12/2024</p>
                    <p><span class="label">Giờ khởi hành:</span> 08:00 AM</p>
                    <p><span class="label">Số ghế:</span> 15B</p>
                    <p><span class="label">Giá vé:</span> 500,000 VND</p>
                </div>

                <div class="sales_info_section">
                    <p><span class="label">Nhân viên bán hàng:</span> Trần Văn B</p>
                    <p><span class="label">Số hóa đơn:</span> HD789123</p>
                    <p><span class="label">Ngày in hóa đơn:</span> 08/12/2024</p>
                </div>

                <div class="qr_code_section">
                    <!-- <p><span class="label">Mã QR:</span></p> -->
                    <img t-attf-src="/report/barcode/QR/{{attendee.barcode if attendee and attendee.barcode else '12345678901234567890'}}?&amp;width=152&amp;height=152&amp;quiet=0" 
                        alt="QR Code"/>
                    
                </div>

                <div class="footer_section">
                    <p>Vui lòng có mặt trước giờ khởi hành 30 phút.</p>
                    <p>Cảm ơn quý khách đã sử dụng dịch vụ của chúng tôi!</p>
                </div>

            <div class="position-absolute bottom-0 w-100 text-center">
                <img t-if="event.organizer_id.image_256" class="o_event_badge_logo text-center mb-2" t-att-src="image_data_uri(event.organizer_id.image_256)"/>
                <span t-if="event.badge_format != 'A4_french_fold'" class="o_event_badge_barcode_container mb-2">
                    <img t-att-class="'mb-2' + (' ms-5' if event.organizer_id.image_256 else '')" t-attf-src="/report/barcode/QR/{{attendee.barcode if attendee else '12345678901234567890'}}?&amp;width=116&amp;height=116&amp;quiet=0" alt="QR Code"/>
                    <t t-if="event.use_barcode">
                        <t t-if="attendee">
                            <span t-field="attendee.barcode" class="barcode ms-2" t-options="{'widget': 'barcode', 'width': 200, 'height': 84, 'quiet': 0, 'humanreadable': 1}"/>
                        </t>
                        <t t-elif="not attendee">
                            <span t-out="'12345678901234567890'" class="barcode ms-2" t-options="{'widget': 'barcode', 'width': 200, 'height': 84, 'quiet': 0, 'humanreadable': 1}"/>
                        </t>
                    </t>
                </span>
            </div>
            </div>
        </xpath>
        
    </template>


    <template id="event_report_template_full_page_ticket" inherit_id="event.event_report_template_full_page_ticket">
        <xpath expr="//div[@class='row page']" position="replace">
        <h1>Attendee list</h1>
        <div class="row" style="font-size: 14px;">
            <div class="col-7">
                <div t-out="event.name"/>
            </div>
            <div class="col-5">
                <span t-out="event.date_begin_located"/>
                <i class="fa fa-arrow-right"/>
                <span t-out="event.date_end_located"/>
            </div>
        </div>
        <table class="table mt-3" style="page-break-after:always;">
            <thead>
                <tr class="text-start">
                    <th>Name</th>
                    <th>Company</th>
                    <th>Ticket type</th>
                    <th>Phone number</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr t-foreach="attendees" t-as="attendee">
                    <td><t t-out="attendee.name"/></td>
                    <td><t t-out="attendee.company_name"/></td>
                    <td><t t-out="attendee.event_ticket_id.name"/></td>
                    <td><t t-out="attendee.phone"/></td>
                    <td class="text-center">
                        <t t-if="attendee.barcode">
                            <img t-attf-src="/report/barcode/QR/{{ attendee.barcode }}?&amp;width=87&amp;height=87&amp;quiet=0" alt="QR Code"/>
                        </t>
                    </td>
                </tr>
            </tbody>
        </table>
        </xpath>
    </template>
</odoo>
